{"ast":null,"code":"import React,{useState,useEffect}from'react';import NewsItem from'./Newsitem';import Spinner from'./Spinner';import{jsxs as _jsxs,jsx as _jsx,Fragment as _Fragment}from\"react/jsx-runtime\";function News(_ref){let{country,category,pageSize}=_ref;const[articles,setArticles]=useState([]);const[page,setPage]=useState(1);const[loading,setLoading]=useState(false);useEffect(()=>{const fetchNews=async()=>{try{setLoading(true);const url=\"https://newsapi.org/v2/top-headlines?country=\".concat(country,\"&category=\").concat(category,\"&apiKey=1a2abb4d02d049528d3112e5f45a8ace&page=\").concat(page,\"&pageSize=\").concat(pageSize);const response=await fetch(url);const data=await response.json();console.log(\"Fetched data:\",data);setArticles(data.articles||[]);setLoading(false);}catch(error){console.error(\"Error fetching news\",error);setLoading(false);}};fetchNews();},[page,category,country,pageSize]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container my-4\",children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-center mb-4 text-danger text-capitalize\",children:[category,\" News\"]}),loading?/*#__PURE__*/_jsx(Spinner,{}):/*#__PURE__*/_jsx(\"div\",{className:\"row\",children:articles.map((article,index)=>{var _article$source;return/*#__PURE__*/_jsx(\"div\",{className:\"col-md-4 mb-4\",children:/*#__PURE__*/_jsx(NewsItem,{title:article.title,description:article.description,url:article.urlToImage,linkUrl:article.url,author:article.author,date:article.publishedAt,source:(_article$source=article.source)===null||_article$source===void 0?void 0:_article$source.name})},index);})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-center gap-3 my-4\",children:[/*#__PURE__*/_jsx(\"button\",{disabled:page<=1,className:\"btn btn-dark\",onClick:()=>setPage(page-1),children:\"\\u2190 Previous\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-dark\",onClick:()=>setPage(page+1),children:\"Next \\u2192\"})]})]});}export default News;","map":{"version":3,"names":["React","useState","useEffect","NewsItem","Spinner","jsxs","_jsxs","jsx","_jsx","Fragment","_Fragment","News","_ref","country","category","pageSize","articles","setArticles","page","setPage","loading","setLoading","fetchNews","url","concat","response","fetch","data","json","console","log","error","children","className","map","article","index","_article$source","title","description","urlToImage","linkUrl","author","date","publishedAt","source","name","disabled","onClick"],"sources":["/Users/saicharanboddeti/Documents/projects _/Guvi Live News/app/src/components/News_.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport NewsItem from './Newsitem';\nimport Spinner from './Spinner';\n\nfunction News({ country, category, pageSize }) {\n  const [articles, setArticles] = useState([]);\n  const [page, setPage] = useState(1);\n  const [loading, setLoading] = useState(false);\n\n  useEffect(() => {\n    const fetchNews = async () => {\n      try {\n        setLoading(true);\n        const url = `https://newsapi.org/v2/top-headlines?country=${country}&category=${category}&apiKey=1a2abb4d02d049528d3112e5f45a8ace&page=${page}&pageSize=${pageSize}`;\n        const response = await fetch(url);\n        const data = await response.json();\n        console.log(\"Fetched data:\", data);\n        setArticles(data.articles || []);\n        setLoading(false);\n      } catch (error) {\n        console.error(\"Error fetching news\", error);\n        setLoading(false);\n      }\n    };\n\n    fetchNews();\n  }, [page, category, country, pageSize]);\n\n  return (\n    <>\n      <div className=\"container my-4\">\n        <h2 className=\"text-center mb-4 text-danger text-capitalize\">\n          {category} News\n        </h2>\n\n        {loading ? (\n          <Spinner />\n        ) : (\n          <div className=\"row\">\n            {articles.map((article, index) => (\n              <div className=\"col-md-4 mb-4\" key={index}>\n                <NewsItem\n                  title={article.title}\n                  description={article.description}\n                  url={article.urlToImage}\n                  linkUrl={article.url}\n                  author={article.author}\n                  date={article.publishedAt}\n                  source={article.source?.name}\n                />\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n\n      <div className=\"d-flex justify-content-center gap-3 my-4\">\n        <button\n          disabled={page <= 1}\n          className=\"btn btn-dark\"\n          onClick={() => setPage(page - 1)}\n        >\n          &larr; Previous\n        </button>\n        <button\n          className=\"btn btn-dark\"\n          onClick={() => setPage(page + 1)}\n        >\n          Next &rarr;\n        </button>\n      </div>\n    </>\n  );\n}\n\nexport default News;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}